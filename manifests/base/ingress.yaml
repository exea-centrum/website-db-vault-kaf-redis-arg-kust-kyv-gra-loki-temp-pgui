apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  name: website-db-vault-kaf-redis-arg-kust-kyv-gra-loki-temp-pgui-ui-ingress
  namespace: davtrowebdbvault
  annotations:
    nginx.ingress.kubernetes.io/rewrite-target: /
    # nginx.ingress.kubernetes.io/ssl-redirect: "false" # Opcjonalne
  labels: 
    app: website-db-vault-kaf-redis-arg-kust-kyv-gra-loki-temp-pgui
    environment: development
spec:
  rules:
  # 1. APLIKACJA GŁÓWNA
  - host: app.website-db-vault-kaf-redis-arg-kust-kyv-gra-loki-temp-pgui.local
    http:
      paths:
      - path: /
        pathType: Prefix
        backend:
          service:
            name: website-db-vault-kaf-redis-arg-kust-kyv-gra-loki-temp-pgui
            port:
              number: 80
              
  # 2. PGADMIN
  - host: pgadmin.website-db-vault-kaf-redis-arg-kust-kyv-gra-loki-temp-pgui.local
    http:
      paths:
      - path: /
        pathType: Prefix
        backend:
          service:
            name: pgadmin
            port:
              number: 80 # pgadmin service port
              
  # 3. ADMINER
  - host: adminer.website-db-vault-kaf-redis-arg-kust-kyv-gra-loki-temp-pgui.local
    http:
      paths:
      - path: /
        pathType: Prefix
        backend:
          service:
            name: adminer
            port:
              number: 8080 # adminer service port
              
  # 4. KAFKA UI (Kafka-UI)
  - host: kafka-ui.website-db-vault-kaf-redis-arg-kust-kyv-gra-loki-temp-pgui.local
    http:
      paths:
      - path: /
        pathType: Prefix
        backend:
          service:
            name: kafka-ui
            port:
              number: 8080 # kafka-ui service port
              
  # 5. REDIS COMMANDER (UI)
  - host: redis-ui.website-db-vault-kaf-redis-arg-kust-kyv-gra-loki-temp-pgui.local
    http:
      paths:
      - path: /
        pathType: Prefix
        backend:
          service:
            name: redis-commander
            port:
              number: 8081 # redis-commander service port
              
  # 6. GRAFANA
  - host: grafana.website-db-vault-kaf-redis-arg-kust-kyv-gra-loki-temp-pgui.local
    http:
      paths:
      - path: /
        pathType: Prefix
        backend:
          service:
            name: grafana
            port:
              number: 3000 # grafana service port
              
  # 7. PROMETHEUS
  - host: prometheus.website-db-vault-kaf-redis-arg-kust-kyv-gra-loki-temp-pgui.local
    http:
      paths:
      - path: /
        pathType: Prefix
        backend:
          service:
            name: prometheus
            port:
              number: 9090 # prometheus service port
              
  # 8. LOKI
  - host: loki.website-db-vault-kaf-redis-arg-kust-kyv-gra-loki-temp-pgui.local
    http:
      paths:
      - path: /
        pathType: Prefix
        backend:
          service:
            name: loki
            port:
              number: 3100 # loki service port
              
  # 9. VAULT
  - host: vault.website-db-vault-kaf-redis-arg-kust-kyv-gra-loki-temp-pgui.local
    http:
      paths:
      - path: /
        pathType: Prefix
        backend:
          service:
            name: vault
            port:
              number: 8200 # vault service port
              
  # 10. TEMPO (UI/Query Frontend)
  - host: tempo.website-db-vault-kaf-redis-arg-kust-kyv-gra-loki-temp-pgui.local
    http:
      paths:
      - path: /
        pathType: Prefix
        backend:
          service:
            name: tempo
            port:
              number: 3200 # tempo service port
